{"version":3,"file":"js/845.2c716db7.js","mappings":"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","sources":["webpack://shoppingdemo/./src/views/cart.vue?dabe","webpack://shoppingdemo/src/views/cart.vue","webpack://shoppingdemo/./src/views/cart.vue?f68e","webpack://shoppingdemo/./src/views/cart.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cart\"},[_vm._m(0),_c('div',{staticClass:\"cart-content\"},[_vm._l((_vm.cartList),function(item,index){return _c('div',{staticClass:\"cart-content-main\"},[_c('div',{staticClass:\"cart-info\"},[_c('img',{attrs:{\"src\":_vm.productDictList[item.id].image}}),_c('span',[_vm._v(_vm._s(_vm.productDictList[item.id].name))])]),_c('div',{staticClass:\"cart-price\"},[_vm._v(\"¥ \"+_vm._s(_vm.productDictList[item.id].cost))]),_c('div',{staticClass:\"cart-count\"},[_c('span',{staticClass:\"cart-control-minus\",on:{\"click\":function($event){return _vm.handleCount(index, -1)}}},[_vm._v(\"-\")]),_vm._v(\" \"+_vm._s(item.count)+\" \"),_c('span',{staticClass:\"cart-control-add\",on:{\"click\":function($event){return _vm.handleCount(index, 1)}}},[_vm._v(\"+\")])]),_c('div',{staticClass:\"cart-cost\"},[_vm._v(\"¥ \"+_vm._s(_vm.productDictList[item.id].cost * item.count))]),_c('div',{staticClass:\"cart-delete\"},[_c('span',{staticClass:\"cart-control-delete\",on:{\"click\":function($event){return _vm.handleDelete(index)}}},[_vm._v(\"删除\")])])])}),(!_vm.cartList.length)?_c('div',{staticClass:\"cart-empty\"},[_vm._v(\"购物车为空\")]):_vm._e()],2),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cartList.length),expression:\"cartList.length\"}],staticClass:\"cart-promotion\"},[_c('span',[_vm._v(\"使用优惠码：\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.promotionCode),expression:\"promotionCode\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.promotionCode)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.promotionCode=$event.target.value}}}),_c('span',{staticClass:\"cart-control-promotion\",on:{\"click\":_vm.handleCheckCode}},[_vm._v(\"验证\")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cartList.length),expression:\"cartList.length\"}],staticClass:\"cart-footer\"},[_c('div',{staticClass:\"cart-footer-desc\"},[_vm._v(\" 共计 \"),_c('span',[_vm._v(_vm._s(_vm.countAll))]),_vm._v(\" 件商品 \")]),_c('div',{staticClass:\"cart-footer-desc\"},[_vm._v(\" 应付总额 \"),_c('span',[_vm._v(\"¥ \"+_vm._s(_vm.costAll - _vm.promotion))]),_c('br'),(_vm.promotion)?[_vm._v(\" （优惠 \"),_c('span',[_vm._v(\"¥ \"+_vm._s(_vm.promotion))]),_vm._v(\"） \")]:_vm._e()],2),_c('div',{staticClass:\"cart-footer-desc\"},[_c('div',{staticClass:\"cart-control-order\",on:{\"click\":_vm.handleOrder}},[_vm._v(\"现在结算\")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cart-header\"},[_c('div',{staticClass:\"cart-header-title\"},[_vm._v(\"购物清单\")]),_c('div',{staticClass:\"cart-header-main\"},[_c('div',{staticClass:\"cart-info\"},[_vm._v(\"商品信息\")]),_c('div',{staticClass:\"cart-price\"},[_vm._v(\"单价\")]),_c('div',{staticClass:\"cart-count\"},[_vm._v(\"数量\")]),_c('div',{staticClass:\"cart-cost\"},[_vm._v(\"小计\")]),_c('div',{staticClass:\"cart-delete\"},[_vm._v(\"删除\")])])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"cart\">\n        <div class=\"cart-header\">\n            <div class=\"cart-header-title\">购物清单</div>\n            <div class=\"cart-header-main\">\n                <div class=\"cart-info\">商品信息</div>\n                <div class=\"cart-price\">单价</div>\n                <div class=\"cart-count\">数量</div>\n                <div class=\"cart-cost\">小计</div>\n                <div class=\"cart-delete\">删除</div>\n            </div>\n        </div>\n        <div class=\"cart-content\">\n            <div class=\"cart-content-main\" v-for=\"(item, index) in cartList\">\n                <div class=\"cart-info\">\n                    <img :src=\"productDictList[item.id].image\">\n                    <span>{{ productDictList[item.id].name }}</span>\n                </div>\n                <div class=\"cart-price\">¥ {{ productDictList[item.id].cost }}</div>\n                <div class=\"cart-count\">\n                    <span class=\"cart-control-minus\" @click=\"handleCount(index, -1)\">-</span>\n                    {{ item.count }}\n                    <span class=\"cart-control-add\" @click=\"handleCount(index, 1)\">+</span>\n                </div>\n                <div class=\"cart-cost\">¥ {{ productDictList[item.id].cost * item.count }}</div>\n                <div class=\"cart-delete\">\n                    <span class=\"cart-control-delete\" @click=\"handleDelete(index)\">删除</span>\n                </div>\n            </div>\n            <div class=\"cart-empty\" v-if=\"!cartList.length\">购物车为空</div>\n        </div>\n        <div class=\"cart-promotion\" v-show=\"cartList.length\">\n            <span>使用优惠码：</span>\n            <input type=\"text\" v-model=\"promotionCode\">\n            <span class=\"cart-control-promotion\" @click=\"handleCheckCode\">验证</span>\n        </div>\n        <div class=\"cart-footer\" v-show=\"cartList.length\">\n            <div class=\"cart-footer-desc\">\n                共计 <span>{{ countAll }}</span> 件商品\n            </div>\n            <div class=\"cart-footer-desc\">\n                应付总额 <span>¥ {{ costAll - promotion }}</span>\n                <br>\n                <template v-if=\"promotion\">\n                    （优惠 <span>¥ {{ promotion }}</span>）\n                </template>\n            </div>\n            <div class=\"cart-footer-desc\">\n                <div class=\"cart-control-order\" @click=\"handleOrder\">现在结算</div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport product_data from '../data/product.js';\nexport default {\n    computed: {\n        cartList() {\n            return this.$store.state.cartList;\n        },\n        productDictList() {\n            const dict = {};\n            this.productList.forEach(item => {\n                dict[item.id] = item;\n            });\n            return dict;\n        },\n        countAll() {\n            let count = 0;\n            this.cartList.forEach(item => {\n                count += item.count;\n            });\n            return count;\n        },\n        costAll() {\n            let cost = 0;\n            this.cartList.forEach(item => {\n                cost += this.productDictList[item.id].cost * item.count;\n            });\n            return cost;\n        }\n    },\n    data() {\n        return {\n            productList: product_data,\n            promotionCode: '',\n            promotion: 0\n        }\n    },\n    methods: {\n        handleCount(index, count) {\n            if (count < 0 && this.cartList[index].count === 1) return;\n            this.$store.commit('editCartCount', {\n                id: this.cartList[index].id,\n                count: count\n            });\n        },\n        handleDelete(index) {\n            this.$store.commit('deleteCart', this.cartList[index].id);\n        },\n        handleCheckCode() {\n            if (this.promotionCode === '') {\n                window.alert('请输入优惠码');\n                return;\n            }\n            if (this.promotionCode !== '123') {\n                window.alert('优惠码验证失败');\n            } else {\n                this.promotion = 800;\n            }\n        },\n        handleOrder() {\n            this.$store.dispatch('buy').then(() => {\n                window.alert('购买成功');\n            })\n        }\n    }\n}\n</script>\n<style scoped>\n.cart {\n    margin: 32px;\n    background: #fff;\n    border: 1px solid #dddee1;\n    border-radius: 10px;\n}\n\n.cart-header-title {\n    padding: 16px 32px;\n    border-bottom: 1px solid #dddee1;\n    border-radius: 10px 10px 0 0;\n    background: #f8f8f9;\n}\n\n.cart-header-main {\n    padding: 8px 32px;\n    overflow: hidden;\n    border-bottom: 1px solid #dddee1;\n    background: #eee;\n    overflow: hidden;\n}\n\n.cart-empty {\n    text-align: center;\n    padding: 32px;\n}\n\n.cart-header-main div {\n    text-align: center;\n    float: left;\n    font-size: 14px;\n}\n\ndiv.cart-info {\n    width: 60%;\n    text-align: left;\n}\n\n.cart-price {\n    width: 10%;\n}\n\n.cart-count {\n    width: 10%;\n}\n\n.cart-cost {\n    width: 10%;\n}\n\n.cart-delete {\n    width: 10%;\n}\n\n.cart-content-main {\n    padding: 0 32px;\n    height: 60px;\n    line-height: 60px;\n    text-align: center;\n    border-bottom: 1px dashed #e9eaec;\n    overflow: hidden;\n}\n\n.cart-content-main div {\n    float: left;\n}\n\n.cart-content-main img {\n    width: 40px;\n    height: 40px;\n    position: relative;\n    top: 10px;\n}\n\n.cart-control-minus,\n.cart-control-add {\n    display: inline-block;\n    margin: 0 4px;\n    width: 24px;\n    height: 24px;\n    line-height: 22px;\n    text-align: center;\n    background: #f8f8f9;\n    border-radius: 50%;\n    box-shadow: 0 1px 1px rgba(0, 0, 0, .2);\n    cursor: pointer;\n}\n\n.cart-control-delete {\n    cursor: pointer;\n    color: #2d8cf0;\n}\n\n.cart-promotion {\n    padding: 16px 32px;\n}\n\n.cart-control-promotion,\n.cart-control-order {\n    display: inline-block;\n    padding: 8px 32px;\n    border-radius: 6px;\n    background: #2d8cf0;\n    color: #fff;\n    cursor: pointer;\n}\n\n.cart-control-promotion {\n    padding: 2px 6px;\n    font-size: 12px;\n    border-radius: 3px;\n}\n\n.cart-footer {\n    padding: 32px;\n    text-align: right;\n}\n\n.cart-footer-desc {\n    display: inline-block;\n    padding: 0 16px;\n}\n\n.cart-footer-desc span {\n    color: #f2352e;\n    font-size: 20px;\n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./cart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./cart.vue?vue&type=template&id=405a9440&scoped=true&\"\nimport script from \"./cart.vue?vue&type=script&lang=js&\"\nexport * from \"./cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cart.vue?vue&type=style&index=0&id=405a9440&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"405a9440\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_l","item","index","attrs","productDictList","id","image","_v","_s","name","cost","on","$event","handleCount","count","handleDelete","cartList","length","_e","directives","rawName","value","expression","domProps","target","composing","promotionCode","handleCheckCode","countAll","costAll","promotion","handleOrder","staticRenderFns","computed","dict","data","productList","methods","window","component"],"sourceRoot":""}