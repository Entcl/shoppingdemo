"use strict";(self["webpackChunkshoppingdemo"]=self["webpackChunkshoppingdemo"]||[]).push([[868],{3868:function(t,r,s){s.r(r),s.d(r,{default:function(){return v}});var e=function(){var t=this,r=t.$createElement,s=t._self._c||r;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.list.length,expression:"list.length"}]},[s("div",{staticClass:"list-control"},[s("div",{staticClass:"list-control-filter"},[s("span",[t._v("品牌：")]),t._l(t.brands,(function(r){return s("span",{staticClass:"list-control-filter-item",class:{on:r===t.filterBrand},on:{click:function(s){return t.handleFilterBrand(r)}}},[t._v(t._s(r))])}))],2),s("div",{staticClass:"list-control-filter"},[s("span",[t._v("颜色：")]),t._l(t.colors,(function(r){return s("span",{staticClass:"list-control-filter-item",class:{on:r===t.filterColor},on:{click:function(s){return t.handleFilterColor(r)}}},[t._v(t._s(r))])}))],2),s("div",{staticClass:"list-control-order"},[s("span",[t._v("排序：")]),s("span",{staticClass:"list-control-order-item",class:{on:""===t.order},on:{click:t.handleOrderDefault}},[t._v("默认")]),s("span",{staticClass:"list-control-order-item",class:{on:"sales"===t.order},on:{click:t.handleOrderSales}},[t._v(" 销量 "),"sales"===t.order?[t._v("↓")]:t._e()],2),s("span",{staticClass:"list-control-order-item",class:{on:t.order.indexOf("cost")>-1},on:{click:t.handleOrderCost}},[t._v(" 价格 "),"cost-asc"===t.order?[t._v("↑")]:t._e(),"cost-desc"===t.order?[t._v("↓")]:t._e()],2)])]),t._l(t.filteredAndOrderedList,(function(t){return s("Product",{key:t.id,attrs:{info:t}})})),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.filteredAndOrderedList.length,expression:"!filteredAndOrderedList.length"}],staticClass:"product-not-found"},[t._v("暂无相关商品")])],2)},o=[],i=function(){var t=this,r=t.$createElement,s=t._self._c||r;return s("div",{staticClass:"product"},[s("router-link",{staticClass:"product-main",attrs:{to:"/product/"+t.info.id}},[s("img",{attrs:{src:t.info.image}}),s("h4",[t._v(t._s(t.info.name))]),s("div",{staticClass:"product-color",style:{background:t.colors[t.info.color]}}),s("div",{staticClass:"product-cost"},[t._v("¥ "+t._s(t.info.cost))]),s("div",{staticClass:"product-add-cart",on:{click:function(r){return r.preventDefault(),t.handleCart.apply(null,arguments)}}},[t._v("加入购物车")])])],1)},l=[],n={props:{info:Object},data(){return{colors:{"白色":"#ffffff","金色":"#dac272","蓝色":"#233472","红色":"#f2352e"}}},methods:{handleCart(){this.$store.commit("addCart",this.info.id)}}},a=n,d=s(1001),c=(0,d.Z)(a,i,l,!1,null,"a29e4040",null),f=c.exports,h={components:{Product:f},computed:{list(){return this.$store.state.productList},brands(){return this.$store.getters.brands},colors(){return this.$store.getters.colors},filteredAndOrderedList(){let t=[...this.list];return""!==this.filterBrand&&(t=t.filter((t=>t.brand===this.filterBrand))),""!==this.filterColor&&(t=t.filter((t=>t.color===this.filterColor))),""!==this.order&&("sales"===this.order?t=t.sort(((t,r)=>r.sales-t.sales)):"cost-desc"===this.order?t=t.sort(((t,r)=>r.cost-t.cost)):"cost-asc"===this.order&&(t=t.sort(((t,r)=>t.cost-r.cost)))),t}},data(){return{filterBrand:"",filterColor:"",order:""}},methods:{handleFilterBrand(t){this.filterBrand===t?this.filterBrand="":this.filterBrand=t},handleFilterColor(t){this.filterColor===t?this.filterColor="":this.filterColor=t},handleOrderDefault(){this.order=""},handleOrderSales(){this.order="sales"},handleOrderCost(){"cost-desc"===this.order?this.order="cost-asc":this.order="cost-desc"},getFilterArray(t){const r=[],s={};for(let e=0;e<t.length;e++){const o=t[e];s[o]||(r.push(o),s[o]=1)}return r}},mounted(){this.$store.dispatch("getProductList")}},u=h,p=(0,d.Z)(u,e,o,!1,null,"2428223f",null),v=p.exports}}]);
//# sourceMappingURL=868.62de2a75.js.map