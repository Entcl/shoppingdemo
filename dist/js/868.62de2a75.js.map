{"version":3,"file":"js/868.62de2a75.js","mappings":"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","sources":["webpack://shoppingdemo/./src/views/list.vue?2f50","webpack://shoppingdemo/./src/components/product.vue?04fc","webpack://shoppingdemo/src/components/product.vue","webpack://shoppingdemo/./src/components/product.vue?b6aa","webpack://shoppingdemo/./src/components/product.vue","webpack://shoppingdemo/src/views/list.vue","webpack://shoppingdemo/./src/views/list.vue?841f","webpack://shoppingdemo/./src/views/list.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.list.length),expression:\"list.length\"}]},[_c('div',{staticClass:\"list-control\"},[_c('div',{staticClass:\"list-control-filter\"},[_c('span',[_vm._v(\"品牌：\")]),_vm._l((_vm.brands),function(item){return _c('span',{staticClass:\"list-control-filter-item\",class:{ on: item === _vm.filterBrand },on:{\"click\":function($event){return _vm.handleFilterBrand(item)}}},[_vm._v(_vm._s(item))])})],2),_c('div',{staticClass:\"list-control-filter\"},[_c('span',[_vm._v(\"颜色：\")]),_vm._l((_vm.colors),function(item){return _c('span',{staticClass:\"list-control-filter-item\",class:{ on: item === _vm.filterColor },on:{\"click\":function($event){return _vm.handleFilterColor(item)}}},[_vm._v(_vm._s(item))])})],2),_c('div',{staticClass:\"list-control-order\"},[_c('span',[_vm._v(\"排序：\")]),_c('span',{staticClass:\"list-control-order-item\",class:{ on: _vm.order === '' },on:{\"click\":_vm.handleOrderDefault}},[_vm._v(\"默认\")]),_c('span',{staticClass:\"list-control-order-item\",class:{ on: _vm.order === 'sales' },on:{\"click\":_vm.handleOrderSales}},[_vm._v(\" 销量 \"),(_vm.order === 'sales')?[_vm._v(\"↓\")]:_vm._e()],2),_c('span',{staticClass:\"list-control-order-item\",class:{ on: _vm.order.indexOf('cost') > -1 },on:{\"click\":_vm.handleOrderCost}},[_vm._v(\" 价格 \"),(_vm.order === 'cost-asc')?[_vm._v(\"↑\")]:_vm._e(),(_vm.order === 'cost-desc')?[_vm._v(\"↓\")]:_vm._e()],2)])]),_vm._l((_vm.filteredAndOrderedList),function(item){return _c('Product',{key:item.id,attrs:{\"info\":item}})}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.filteredAndOrderedList.length),expression:\"!filteredAndOrderedList.length\"}],staticClass:\"product-not-found\"},[_vm._v(\"暂无相关商品\")])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"product\"},[_c('router-link',{staticClass:\"product-main\",attrs:{\"to\":'/product/' + _vm.info.id}},[_c('img',{attrs:{\"src\":_vm.info.image}}),_c('h4',[_vm._v(_vm._s(_vm.info.name))]),_c('div',{staticClass:\"product-color\",style:({ background: _vm.colors[_vm.info.color] })}),_c('div',{staticClass:\"product-cost\"},[_vm._v(\"¥ \"+_vm._s(_vm.info.cost))]),_c('div',{staticClass:\"product-add-cart\",on:{\"click\":function($event){$event.preventDefault();return _vm.handleCart.apply(null, arguments)}}},[_vm._v(\"加入购物车\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"product\">\n        <router-link :to=\"'/product/' + info.id\" class=\"product-main\">\n            <img :src=\"info.image\">\n            <h4>{{ info.name }}</h4>\n            <div class=\"product-color\" :style=\"{ background: colors[info.color] }\"></div>\n            <div class=\"product-cost\">¥ {{ info.cost }}</div>\n            <div class=\"product-add-cart\" @click.prevent=\"handleCart\">加入购物车</div>\n        </router-link>\n    </div>\n</template>\n<script>\nexport default {\n    props: {\n        info: Object\n    },\n    data() {\n        return {\n            colors: {\n                '白色': '#ffffff',\n                '金色': '#dac272',\n                '蓝色': '#233472',\n                '红色': '#f2352e'\n            }\n        }\n    },\n    methods: {\n        handleCart() {\n            this.$store.commit('addCart', this.info.id);\n        }\n    }\n};\n</script>\n<style scoped>\n.product {\n    width: 15%;\n    height: 15%;\n    margin: 0 auto;\n    display: inline-block;\n}\n\n.product-main {\n    display: block;\n    margin: 16px;\n    padding: 16px;\n    border: 1px solid #dddee1;\n    border-radius: 6px;\n    overflow: hidden;\n    background: #fff;\n    text-align: center;\n    position: relative;\n}\n\n.product-main img {\n    width: 100%;\n}\n\nh4 {\n    color: #222;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n\n.product-main:hover h4 {\n    color: #0070c9;\n}\n\n.product-color {\n    display: block;\n    width: 16px;\n    height: 16px;\n    border: 1px solid #dddee1;\n    border-radius: 50%;\n    margin: 6px auto;\n}\n\n.product-cost {\n    color: #de4037;\n    margin-top: 6px;\n}\n\n.product-add-cart {\n    display: none;\n    padding: 4px 8px;\n    background: #2d8cf0;\n    color: #fff;\n    font-size: 12px;\n    border-radius: 3px;\n    cursor: pointer;\n    position: absolute;\n    top: 5px;\n    right: 5px;\n}\n\n.product-main:hover .product-add-cart {\n    display: inline-block;\n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./product.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./product.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./product.vue?vue&type=template&id=a29e4040&scoped=true&\"\nimport script from \"./product.vue?vue&type=script&lang=js&\"\nexport * from \"./product.vue?vue&type=script&lang=js&\"\nimport style0 from \"./product.vue?vue&type=style&index=0&id=a29e4040&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a29e4040\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div v-show=\"list.length\">\n        <div class=\"list-control\">\n            <div class=\"list-control-filter\">\n                <span>品牌：</span>\n                <span class=\"list-control-filter-item\" :class=\"{ on: item === filterBrand }\" v-for=\"item in brands\"\n                    @click=\"handleFilterBrand(item)\">{{ item }}</span>\n            </div>\n            <div class=\"list-control-filter\">\n                <span>颜色：</span>\n                <span class=\"list-control-filter-item\" :class=\"{ on: item === filterColor }\" v-for=\"item in colors\"\n                    @click=\"handleFilterColor(item)\">{{ item }}</span>\n            </div>\n            <div class=\"list-control-order\">\n                <span>排序：</span>\n                <span class=\"list-control-order-item\" :class=\"{ on: order === '' }\"\n                    @click=\"handleOrderDefault\">默认</span>\n                <span class=\"list-control-order-item\" :class=\"{ on: order === 'sales' }\" @click=\"handleOrderSales\">\n                    销量\n                    <template v-if=\"order === 'sales'\">↓</template>\n                </span>\n                <span class=\"list-control-order-item\" :class=\"{ on: order.indexOf('cost') > -1 }\"\n                    @click=\"handleOrderCost\">\n                    价格\n                    <template v-if=\"order === 'cost-asc'\">↑</template>\n                    <template v-if=\"order === 'cost-desc'\">↓</template>\n                </span>\n            </div>\n        </div>\n        <Product v-for=\"item in filteredAndOrderedList\" :info=\"item\" :key=\"item.id\"></Product>\n        <div class=\"product-not-found\" v-show=\"!filteredAndOrderedList.length\">暂无相关商品</div>\n    </div>\n</template>\n<script>\nimport Product from '../components/product.vue';\nexport default {\n    components: { Product },\n    computed: {\n        list() {\n            return this.$store.state.productList;\n        },\n        brands() {\n            return this.$store.getters.brands;\n        },\n        colors() {\n            return this.$store.getters.colors;\n        }, filteredAndOrderedList() {\n            let list = [...this.list];\n            // 按品牌过滤\n            if (this.filterBrand !== '') {\n                list = list.filter(item => item.brand === this.filterBrand);\n            }\n            // 按颜色过滤\n            if (this.filterColor !== '') {\n                list = list.filter(item => item.color === this.filterColor);\n            }\n            // 排序\n            if (this.order !== '') {\n                if (this.order === 'sales') {\n                    list = list.sort((a, b) => b.sales - a.sales);\n                } else if (this.order === 'cost-desc') {\n                    list = list.sort((a, b) => b.cost - a.cost);\n                } else if (this.order === 'cost-asc') {\n                    list = list.sort((a, b) => a.cost - b.cost);\n                }\n            }\n            return list;\n        }\n    },\n    data() {\n        return {\n            filterBrand: '',\n            filterColor: '',\n            order: ''\n        }\n    },\n    methods: {\n        handleFilterBrand(brand) {\n            if (this.filterBrand === brand) {\n                this.filterBrand = '';\n            } else {\n                this.filterBrand = brand;\n            }\n        },\n        handleFilterColor(color) {\n            if (this.filterColor === color) {\n                this.filterColor = '';\n            } else {\n                this.filterColor = color;\n            }\n        },\n        handleOrderDefault() {\n            this.order = '';\n        },\n        handleOrderSales() {\n            this.order = 'sales';\n        },\n        handleOrderCost() {\n            if (this.order === 'cost-desc') {\n                this.order = 'cost-asc';\n            } else {\n                this.order = 'cost-desc';\n            }\n        },\n        // 数组排重\n        getFilterArray(array) {\n            const res = [];\n            const json = {};\n            for (let i = 0; i < array.length; i++) {\n                const _self = array[i];\n                if (!json[_self]) {\n                    res.push(_self);\n                    json[_self] = 1;\n                }\n            }\n            return res;\n        }\n    },\n    mounted() {\n        this.$store.dispatch('getProductList');\n    }\n}\n</script>\n<style scoped>\n.list-control {\n    background: #fff;\n    border-radius: 6px;\n    margin: 16px;\n    padding: 16px;\n    box-shadow: 0 1px 1px rgba(0, 0, 0, .2);\n}\n\n.list-control-filter {\n    margin-bottom: 16px;\n}\n\n.list-control-filter-item,\n.list-control-order-item {\n    cursor: pointer;\n    display: inline-block;\n    border: 1px solid #e9eaec;\n    border-radius: 4px;\n    margin-right: 6px;\n    padding: 2px 6px;\n}\n\n.list-control-filter-item.on,\n.list-control-order-item.on {\n    background: #f2352e;\n    border: 1px solid #f2352e;\n    color: #fff;\n}\n\n.product-not-found {\n    text-align: center;\n    padding: 32px;\n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=2428223f&scoped=true&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&id=2428223f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2428223f\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","list","expression","staticClass","_v","_l","item","class","on","filterBrand","$event","handleFilterBrand","_s","filterColor","handleFilterColor","order","handleOrderDefault","handleOrderSales","_e","indexOf","handleOrderCost","key","id","attrs","filteredAndOrderedList","length","staticRenderFns","info","image","style","background","colors","color","cost","preventDefault","handleCart","apply","arguments","props","data","methods","component","components","Product","computed","brands","getFilterArray","res","json","mounted"],"sourceRoot":""}